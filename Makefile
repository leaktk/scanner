all: build

clean:
	if [[ -e .git ]]; then git clean -dfX; fi

build: format
	golint ./...
	go vet ./...
	go mod tidy
	go build -o ./leaktk-scanner

format:
	go fmt ./...

test: format
	go get golang.org/x/lint/golint
	go vet ./...
	golint ./...
	go test ./...
